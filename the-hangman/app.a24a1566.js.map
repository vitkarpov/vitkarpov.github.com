{"version":3,"sources":["app/lib/pubsub.js","app/lib/word-list.js","app/lib/state.js","app/components/start-game-button.js","app/components/timer.js","app/components/word.js","app/components/hangman.js","app/lib/guess.js","app/lib/array-eq.js","app/components/app.js","app/lib/render.js","app/index.js"],"names":["PubSub","events","event","callback","push","ctx","on","cb","apply","arguments","off","_forEachListener","listener","index","undefined","args","Array","prototype","slice","call","i","len","length","module","exports","require","wordList","refWord","getRandomInt","split","state","started","won","lost","misses","timer","currWord","getCurrWord","max","Math","floor","random","map","letter","set","key","prop","get","reset","eventBus","StartGameButton","title","once","document","querySelector","addEventListener","onButtonClick","removeEventListener","emit","Timer","timerId","props","setTimeout","clearTimeout","getColor","Word","join","Hangman","shift","nextWord","a","b","guess","arrayEq","App","onKeyUp","e","render","child","parent","innerHTML","app","renderApp","getProps","getElementById"],"mappings":"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","file":"app.a24a1566.js","sourceRoot":"..","sourcesContent":["/**\n * Mini PubSub gives components a communication channel.\n */\nclass PubSub {\n  constructor() {\n    this.events = {};\n  }\n\n  on(event, callback) {\n    if (!this.events[event]) {\n      this.events[event] = [];\n    }\n\n    this.events[event].push(callback);\n  }\n\n  once(event, callback) {\n    const ctx = this;\n    const cb = function() {\n      callback.apply(null, arguments);\n      ctx.off(event, cb);\n    };\n\n    this.on(event, cb);\n  }\n\n  off(event, callback) {\n    this._forEachListener(event, function(listener, index) {\n      if (listener === callback) {\n        this.events[event][index] = undefined;\n      }\n    });\n  }\n\n  emit(event) {\n    var args = Array.prototype.slice.call(arguments, 1);\n\n    this._forEachListener(event, function(listener) {\n      if (typeof listener === \"function\") {\n        listener.apply(undefined, args);\n      }\n    });\n  }\n\n  _forEachListener(event, callback) {\n    if (this.events[event]) {\n      for (var i = 0, len = this.events[event].length; i < len; i++) {\n        callback.call(this, this.events[event][i], i);\n      }\n    }\n  }\n}\n\nmodule.exports = PubSub;\n","/**\n * A list of common random words, 5 to 15 letters length.\n */\nmodule.exports = [\n  \"physical\",\n  \"pleasure\",\n  \"representative\",\n  \"rhythm\",\n  \"sleep\",\n  \"straight\",\n  \"wound\",\n  \"stiff\",\n  \"selection\",\n  \"separate\",\n  \"request\",\n  \"property\",\n  \"there\",\n  \"thick\",\n  \"thought\",\n  \"thread\",\n  \"throat\",\n  \"through\",\n  \"thumb\",\n  \"thunder\",\n  \"together\",\n  \"tomorrow\",\n  \"tongue\",\n  \"tooth\",\n  \"touch\",\n  \"trade\",\n  \"train\",\n  \"transport\",\n  \"trick\",\n  \"trouble\",\n  \"trousers\",\n  \"twist\",\n  \"umbrella\",\n  \"value\",\n  \"verse\",\n  \"vessel\",\n  \"violent\"\n];\n","const PubSub = require(\"./pubsub\");\nconst wordList = require(\"./word-list\");\nconst refWord = wordList[getRandomInt(wordList.length - 1)].split(\"\");\n\n/**\n * Global app state\n */\nconst state = {\n  started: false,\n  won: false,\n  lost: false,\n  misses: [],\n  timer: 0,\n  refWord,\n  currWord: getCurrWord(refWord)\n};\n\nfunction getRandomInt(max) {\n  return Math.floor(Math.random() * Math.floor(max));\n}\n\nfunction getCurrWord(refWord) {\n  return refWord.map((letter, index) => {\n    if (index > 0 && index < refWord.length - 1) {\n      return \"_\";\n    }\n    return letter;\n  });\n}\n\nmodule.exports = {\n  set: (key, prop) => (state[key] = prop),\n  get: key => state[key],\n  reset: () => {\n    state.started = true;\n\n    // let's try another word if they won\n    if (state.won) {\n      state.refWord = wordList[getRandomInt(wordList.length - 1)].split(\"\");\n    }\n    state.won = false;\n    state.lost = false;\n    state.timer = 0;\n    state.currWord = getCurrWord(state.refWord);\n    state.misses = [];\n  },\n  eventBus: new PubSub()\n};\n","const state = require(\"../lib/state\");\n\nclass StartGameButton {\n  constructor({ title }) {\n    this.title = title;\n\n    state.eventBus.once(\"mount\", () => {\n      document\n        .querySelector(\".start-button\")\n        .addEventListener(\"click\", this.onButtonClick);\n    });\n    state.eventBus.once(\"unmount\", () => {\n      document\n        .querySelector(\".start-button\")\n        .removeEventListener(\"click\", this.onButtonClick);\n    });\n  }\n\n  onButtonClick() {\n    state.reset();\n    state.eventBus.emit(\"rerender\");\n  }\n\n  render() {\n    return `<button class=\"start-button\">${this.title}</button>`;\n  }\n}\n\nmodule.exports = StartGameButton;\n","const state = require(\"../lib/state\");\n\nclass Timer {\n  constructor(props = {}) {\n    this.timer = props.timer || 0;\n    let timerId;\n\n    state.eventBus.once(\"mount\", () => {\n      timerId = setTimeout(() => {\n        if (this.timer === 30) {\n          state.set(\"lost\", true);\n        } else {\n          state.set(\"timer\", this.timer + 1);\n        }\n        state.eventBus.emit(\"rerender\");\n      }, 1000);\n    });\n    state.eventBus.once(\"unmount\", () => {\n      clearTimeout(timerId);\n    });\n  }\n\n  getColor() {\n    if (this.timer < 15) {\n      return \"green\";\n    }\n    if (this.timer < 25) {\n      return \"yellow\";\n    }\n    return \"red\";\n  }\n\n  render() {\n    return `\n      You have <span class=\"timer\" style=\"border: 1px solid ${this.getColor()};\">${30 -\n      this.timer}</span> seconds to guess!\n    `;\n  }\n}\n\nmodule.exports = Timer;\n","const state = require(\"../lib/state\");\n\nclass Word {\n  constructor({ currWord }) {\n    this.currWord = currWord;\n  }\n\n  render() {\n    return `\n      <div class=\"word\">\n        ${this.currWord\n          .map(letter => {\n            return `<div class=\"word-item\">${letter}</div>`;\n          })\n          .join(\"\")}\n      </div>\n    `;\n  }\n}\n\nmodule.exports = Word;\n","class Hangman {\n  constructor({ shift }) {\n    this.shift = shift;\n  }\n\n  render() {\n    return `\n      <div class=\"hangman-sprite\"\n        style=\"background-position: 0 ${-256 * this.shift}px;\"\n      ></div>\n    `;\n  }\n}\n\nmodule.exports = Hangman;\n","module.exports = function(letter, refWord, currWord) {\n  const nextWord = currWord.join('').split('');\n\n  for (let i = 0; i < refWord.length; i++) {\n    if (nextWord[i] === \"_\" && refWord[i] === letter) {\n      nextWord[i] = letter;\n    }\n  }\n  return nextWord;\n};\n","module.exports = function(a, b) {\n  if (a.length !== b.length) {\n    return false;\n  }\n  for (let i = 0; i < a.length; i++) {\n    if (a[i] !== b[i]) {\n      return false;\n    }\n  }\n  return true;\n};\n","const StartGameButton = require(\"../components/start-game-button\");\nconst Timer = require(\"../components/timer\");\nconst Word = require(\"../components/word\");\nconst Hangman = require(\"../components/hangman\");\nconst state = require(\"../lib/state\");\nconst guess = require(\"../lib/guess\");\nconst arrayEq = require(\"../lib/array-eq\");\n\nclass App {\n  constructor() {\n    state.eventBus.on(\"mount\", () => {\n      document.addEventListener(\"keyup\", this.onKeyUp);\n    });\n    state.eventBus.on(\"ummount\", () => {\n      document.removeEventListener(\"keyup\", this.onKeyUp);\n    });\n  }\n\n  onKeyUp(e) {\n    if (!state.get(\"started\") || state.get(\"won\") || state.get(\"lost\")) {\n      return;\n    }\n    if (\"a\" <= e.key && e.key <= \"z\") {\n      const nextWord = guess(\n        e.key,\n        state.get(\"refWord\"),\n        state.get(\"currWord\")\n      );\n\n      if (arrayEq(nextWord, state.get(\"currWord\"))) {\n        state.get(\"misses\").push(e.key);\n        if (state.get(\"misses\").length === 7) {\n          state.set(\"lost\", true);\n        }\n      } else if (arrayEq(nextWord, state.get(\"refWord\"))) {\n        state.set(\"won\", true);\n      }\n      state.set(\"currWord\", nextWord);\n      state.eventBus.emit(\"rerender\");\n    }\n  }\n\n  render({ started, lost, won, misses, timer, currWord }) {\n    if (!started) {\n      return `\n        <div class=\"text-wrapper\">\n          ${new StartGameButton({ title: \"Start the game!\" }).render()}\n        </div>\n      `;\n    }\n    if (lost) {\n      return `\n      <div class=\"text-wrapper\">\n        You couldn't make it this time, let's ${new StartGameButton({\n          title: \"try again\"\n        }).render()} 😉\n        <br />\n        ${new Hangman({ shift: 7 }).render()}\n      </div>\n      `;\n    }\n    if (won) {\n      return `\n      <div class=\"text-wrapper\">\n        You did it, congrats! 🎉 Do you want to ${new StartGameButton({\n          title: \"play again\"\n        }).render()}?\n      </div>\n      `;\n    }\n    return `\n      <div class=\"layout\">\n        <div class=\"left-col\">\n          <div class=\"timer-wrapper\">\n            ${new Timer({ timer }).render()}\n          </div>\n          <div class=\"word\">\n            ${new Word({ currWord }).render()}\n          </div>\n        </div>\n        <div class=\"right-col\">\n          ${new Hangman({ shift: misses.length }).render()}\n          <div class=\"misses\">Misses: ${misses.join(\", \")}</div>\n        </div>\n      </div>\n    `;\n  }\n}\n\nmodule.exports = App;\n","module.exports = function(child, parent) {\n  parent.innerHTML = child;\n};\n","const App = require(\"./components/app\");\nconst state = require(\"./lib/state\");\nconst render = require(\"./lib/render\");\n\nconst app = new App();\nconst renderApp = () => {\n  state.eventBus.emit(\"unmount\");\n  render(app.render(getProps()), document.getElementById(\"app\"));\n  state.eventBus.emit(\"mount\");\n};\n\nstate.eventBus.on(\"rerender\", renderApp);\ndocument.addEventListener(\"DOMContentLoaded\", renderApp);\n\nfunction getProps() {\n  return {\n    started: state.get(\"started\"),\n    won: state.get(\"won\"),\n    lost: state.get(\"lost\"),\n    currWord: state.get(\"currWord\"),\n    misses: state.get(\"misses\"),\n    timer: state.get(\"timer\")\n  };\n}\n"]}